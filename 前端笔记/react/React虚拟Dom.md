### 为什么我们需要虚拟DOM？

DOM操作很慢，而JS却可以很快，直接操作DOM可能会导致频繁的回流与重绘（回流一定会引起重绘），JS不存在这些问题，虚拟DOM让我们不用直接操作DOM节点，因此虚拟DOM比原生DOM更快



### 虚拟DOM（Virtual DOM）

本质上是JS和DOM之间的一个映射缓存，在形态上是一个类似于虚拟DOM结构和属性的JS对象

#### 挂载阶段

react将Jsx信息，得出虚拟DOM树，然后通过ReactDOM.render实现虚拟DOM和实际转换

#### 更新阶段

页面变化会首先更新虚拟DOM，虚拟DOM通过算法，计算出具体哪些真实的DOM需要被更改，最后更替到真实DOM中



#### 递进过程

1、原生DOM操作时期

2、Jquery时期，对于原生DOM做了一层封装和浏览器兼容，写的更少，做的更多

3、模版引擎方案+Jquery，会局限在“实现高效的字符串拼接”，复杂的渲染会导致页面卡死

4、  虚拟DOM



#### 虚拟DOM是如何解决问题的

新旧DOM[差量更新](https://www.processon.com/view/link/5fa8f1fff346fb68679ce202)到真实DOM中



#### 虚拟DOM解决的问题

研发体验/研发效率的提升

跨平台问题，同一套虚拟DOM描述可以渲染为多个平台的代码，WEB/IOS/Android/小程序

 

#### 劣势

虚拟DOM的劣势是需要通过JS进行大量的计算，期间的JS计算会比直接InnerHTML耗时（某些情况下）