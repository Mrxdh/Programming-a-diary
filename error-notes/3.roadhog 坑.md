## roadhog convert  umi

------

​	有一个旧项目用的是roadhog我把它从1.3版本升级到 2.5.0beta,但是这个时候我发现项目不支持dll，导致开发和生产环境的js加载/编译后很慢，然后我找到一个issues 作者说可以参考umi, 因为umi和roadhog底层公用af-webpack，然后我就去找umi源码看，发现umi源码内依赖的af-webpack版本是2.3.1，我发现最新的2.5.0beta用的竟然是0.23.0版本的af-webpack，真是欲哭无泪，所以我决定再把项目从roadhog切换到umi

​	现在项目在慢慢重构，索性的是大部分代码都是可以向后兼容的，但是还是有些地方比较坑。

1. 之前的项目用react-intl-universal 做的国际化，我发现umi本身就自带国际化，所以我要重新吧国际化兼容过去，这个真的是苦力活，会话费很多时间，目前采取的办法是直接填写成中文，不考虑国际化之后需要国际化文件的时候再去国际化，
2. 路由的变化umi新增router.config，我需要在原有项目中吧路由重新抽离出来写成router.config配置，这个是一个费脑的活。
3. 权限修改authority文件要自己重写一遍对于当前用户权限的获取和安排
4. BasicLayout文件，因为新版的antd-pro 对于BasicLayout layout文件做了大量的细分组件，所以这块的逻辑几乎要重写一遍。
5. 我们会有根据不同客户渲染不同的目录的需求，所以目录的过滤和初始化，都需要重写的

项目组三个人预计下周结束就能重构完现在的项目。

